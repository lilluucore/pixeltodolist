<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>やることリスト - To Do List</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=block" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="container">
  <header class="header">
    <h1 class="title">
      <span class="jp">やることリスト</span>
      <span class="en">To Do List / Список дел</span>
    </h1>
    <div class="user-info">
      <span class="jp">ユーザー:</span>
      <span class="username" sec:authentication="name"></span>
      <form th:action="@{/logout}" method="post" style="display: inline;">
        <button type="submit" class="pixel-btn-sm logout-btn">
          <span class="jp">ログアウト</span>
          <span class="en">Logout / Выйти</span>
        </button>
      </form>
    </div>
  </header>

  <div class="stats-section">
    <div class="stat-box">
      <div class="stat-label">
        <span class="jp">現在のタスク</span>
        <span class="en">Active / Активные</span>
      </div>
      <div class="stat-value" id="activeCount">0</div>
    </div>
    <div class="stat-box">
      <div class="stat-label">
        <span class="jp">完了したタスク</span>
        <span class="en">Completed / Выполнено</span>
      </div>
      <div class="stat-value" id="completedCount">0</div>
    </div>
    <div class="stat-box streak">
      <div class="stat-label">
        <span class="jp">連続日数</span>
        <span class="en">Streak / Стрик</span>
      </div>
      <div class="stat-value" id="streakCount">0</div>
      <div class="stat-sublabel">
        <span class="jp">日</span>
        <span class="en">days / дней</span>
      </div>
    </div>
  </div>

  <div class="main-content">
    <div class="task-controls">
      <h2 class="section-title">
        <span class="jp">新しいタスクを追加</span>
        <span class="en">Add New Task / Добавить задачу</span>
      </h2>

      <div class="input-row">
        <input type="text" id="taskTitle" class="pixel-input" placeholder="タスク名 / Task Title / Название задачи">
        <button id="addTaskBtn" class="pixel-btn">
          <span class="jp">追加</span>
          <span class="en">Add / Добавить</span>
        </button>
      </div>

      <input type="text" id="taskDescription" class="pixel-input full-width" placeholder="説明（任意） / Description (optional) / Описание">

      <div class="priority-date-row">
        <div class="priority-select">
          <label class="form-label">
            <span class="jp">重要度</span>
            <span class="en">Priority / Приоритет</span>
          </label>
          <select id="taskPriority" class="pixel-select">
            <option value="LOW">低 / Low / Низкий</option>
            <option value="MEDIUM" selected>中 / Medium / Средний</option>
            <option value="HIGH">高 / High / Высокий</option>
          </select>
        </div>
        <div class="date-select">
          <label class="form-label">
            <span class="jp">期限</span>
            <span class="en">Due Date / Дедлайн</span>
          </label>
          <input type="date" id="taskDueDate" class="pixel-input">
        </div>
      </div>

      <div class="filter-section">
        <h3 class="filter-title">
          <span class="jp">フィルター:</span>
          <span class="en">Filter / Фильтр:</span>
        </h3>
        <div class="filter-buttons">
          <button class="filter-btn active" data-filter="all">
            <span class="jp">全て</span>
            <span class="en">All / Все</span>
          </button>
          <button class="filter-btn" data-filter="active">
            <span class="jp">未完了</span>
            <span class="en">Active / Активные</span>
          </button>
          <button class="filter-btn" data-filter="completed">
            <span class="jp">完了</span>
            <span class="en">Completed / Завершённые</span>
          </button>
        </div>
      </div>
    </div>

    <div id="taskList" class="task-list"></div>
  </div>

  <footer class="footer">
    <span class="jp">ピクセルスタイルやることリスト</span>
    <span class="en">Pixel Style To Do List / Пиксельный список дел</span>
  </footer>
</div>

<script th:src="@{/js/app.js}"></script>
</body>
</html>
